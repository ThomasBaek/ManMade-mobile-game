<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:MadeMan.IdleEmpire.ViewModels"
             x:Class="MadeMan.IdleEmpire.Views.SettingsPage"
             x:DataType="vm:SettingsViewModel"
             BackgroundColor="{StaticResource Background}"
             Shell.NavBarIsVisible="False">

    <ScrollView>
        <VerticalStackLayout Padding="16" Spacing="0">

            <!-- Title -->
            <Label Text="SETTINGS"
                   Style="{StaticResource ArtDecoHeader}"
                   HorizontalOptions="Center"
                   Margin="0,16,0,24"/>

            <!-- Sound Settings -->
            <Frame BackgroundColor="{StaticResource Surface}"
                   CornerRadius="12"
                   Padding="16"
                   BorderColor="Transparent"
                   Margin="0,0,0,16">
                <VerticalStackLayout Spacing="0">

                    <!-- Sound Effects -->
                    <Grid ColumnDefinitions="*,Auto" HeightRequest="48">
                        <Label Text="Sound Effects"
                               FontSize="16"
                               TextColor="{StaticResource TextPrimary}"
                               VerticalOptions="Center"/>
                        <Switch Grid.Column="1"
                                IsToggled="{Binding SoundEnabled}"
                                OnColor="{StaticResource Gold}"
                                ThumbColor="{StaticResource TextPrimary}"/>
                    </Grid>

                    <BoxView HeightRequest="1"
                             BackgroundColor="{StaticResource SurfaceLight}"
                             Margin="0,8"/>

                    <!-- Music -->
                    <Grid ColumnDefinitions="*,Auto" HeightRequest="48">
                        <Label Text="Music"
                               FontSize="16"
                               TextColor="{StaticResource TextPrimary}"
                               VerticalOptions="Center"/>
                        <Switch Grid.Column="1"
                                IsToggled="{Binding MusicEnabled}"
                                OnColor="{StaticResource Gold}"
                                ThumbColor="{StaticResource TextPrimary}"/>
                    </Grid>

                    <BoxView HeightRequest="1"
                             BackgroundColor="{StaticResource SurfaceLight}"
                             Margin="0,8"/>

                    <!-- Notifications -->
                    <Grid ColumnDefinitions="*,Auto" HeightRequest="48">
                        <Label Text="Notifications"
                               FontSize="16"
                               TextColor="{StaticResource TextPrimary}"
                               VerticalOptions="Center"/>
                        <Switch Grid.Column="1"
                                IsToggled="{Binding NotificationsEnabled}"
                                OnColor="{StaticResource Gold}"
                                ThumbColor="{StaticResource TextPrimary}"/>
                    </Grid>

                    <BoxView HeightRequest="1"
                             BackgroundColor="{StaticResource SurfaceLight}"
                             Margin="0,8"/>

                    <!-- Vibration -->
                    <Grid ColumnDefinitions="*,Auto" HeightRequest="48">
                        <Label Text="Vibration"
                               FontSize="16"
                               TextColor="{StaticResource TextPrimary}"
                               VerticalOptions="Center"/>
                        <Switch Grid.Column="1"
                                IsToggled="{Binding VibrationEnabled}"
                                OnColor="{StaticResource Gold}"
                                ThumbColor="{StaticResource TextPrimary}"/>
                    </Grid>

                    <BoxView HeightRequest="1"
                             BackgroundColor="{StaticResource SurfaceLight}"
                             Margin="0,8"/>

                    <!-- Film Effects -->
                    <Grid ColumnDefinitions="*,Auto" HeightRequest="48">
                        <VerticalStackLayout VerticalOptions="Center">
                            <Label Text="Film Effects"
                                   FontSize="16"
                                   TextColor="{StaticResource TextPrimary}"/>
                            <Label Text="Grain &amp; vignette overlays"
                                   FontSize="11"
                                   TextColor="{StaticResource TextSecondary}"/>
                        </VerticalStackLayout>
                        <Switch Grid.Column="1"
                                IsToggled="{Binding FilmEffectsEnabled}"
                                OnColor="{StaticResource Gold}"
                                ThumbColor="{StaticResource TextPrimary}"/>
                    </Grid>

                </VerticalStackLayout>
            </Frame>

            <!-- Info Section -->
            <Frame BackgroundColor="{StaticResource Surface}"
                   CornerRadius="12"
                   Padding="16"
                   BorderColor="Transparent"
                   Margin="0,0,0,16">
                <VerticalStackLayout Spacing="0">

                    <!-- Version -->
                    <Grid ColumnDefinitions="*,Auto" HeightRequest="48">
                        <Label Text="Version"
                               FontSize="16"
                               TextColor="{StaticResource TextPrimary}"
                               VerticalOptions="Center"/>
                        <Label Grid.Column="1"
                               Text="{Binding Version}"
                               FontSize="16"
                               TextColor="{StaticResource TextSecondary}"
                               VerticalOptions="Center"/>
                    </Grid>

                    <BoxView HeightRequest="1"
                             BackgroundColor="{StaticResource SurfaceLight}"
                             Margin="0,8"/>

                    <!-- Credits -->
                    <Grid ColumnDefinitions="*,Auto" HeightRequest="48">
                        <Grid.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding ShowCreditsCommand}"/>
                        </Grid.GestureRecognizers>
                        <Label Text="Credits"
                               FontSize="16"
                               TextColor="{StaticResource TextPrimary}"
                               VerticalOptions="Center"/>
                        <Label Grid.Column="1"
                               Text="â€º"
                               FontSize="20"
                               TextColor="{StaticResource TextSecondary}"
                               VerticalOptions="Center"/>
                    </Grid>

                </VerticalStackLayout>
            </Frame>

            <!-- Danger Zone -->
            <Frame BackgroundColor="{StaticResource Surface}"
                   CornerRadius="12"
                   Padding="16"
                   BorderColor="{StaticResource Primary}"
                   Margin="0,24,0,0">

                <VerticalStackLayout Spacing="12">

                    <Label Text="DANGER ZONE"
                           FontSize="12"
                           FontAttributes="Bold"
                           TextColor="{StaticResource Primary}"
                           HorizontalOptions="Center"/>

                    <BoxView HeightRequest="1"
                             BackgroundColor="{StaticResource Primary}"
                             Opacity="0.3"/>

                    <Button Text="ðŸ—‘ï¸ RESET GAME"
                            Command="{Binding ResetGameCommand}"
                            BackgroundColor="{StaticResource Primary}"
                            TextColor="White"
                            CornerRadius="8"
                            FontAttributes="Bold"
                            HeightRequest="50"/>

                    <Label Text="This will delete ALL progress permanently!"
                           FontSize="11"
                           TextColor="{StaticResource TextSecondary}"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center"/>

                </VerticalStackLayout>

            </Frame>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
